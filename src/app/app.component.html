<main>
  <h4 *ngIf="currentLanguage == 'fr'" id="header" class="text-center">
    Pratique la dactylographie !
  </h4>
  <h4 *ngIf="currentLanguage == 'en'" id="header" class="text-center">
    Pratice dactylographie !
  </h4>

  <!--text language-->
  <button class="btn btn-light" (click)="displayLangages()">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      fill="currentColor"
      class="bi bi-globe-europe-africa"
      viewBox="0 0 16 16"
    >
      <path
        d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M3.668 2.501l-.288.646a.847.847 0 0 0 1.479.815l.245-.368a.809.809 0 0 1 1.034-.275.809.809 0 0 0 .724 0l.261-.13a1 1 0 0 1 .775-.05l.984.34c.078.028.16.044.243.054.784.093.855.377.694.801-.155.41-.616.617-1.035.487l-.01-.003C8.274 4.663 7.748 4.5 6 4.5 4.8 4.5 3.5 5.62 3.5 7c0 1.96.826 2.166 1.696 2.382.46.115.935.233 1.304.618.449.467.393 1.181.339 1.877C6.755 12.96 6.674 14 8.5 14c1.75 0 3-3.5 3-4.5 0-.262.208-.468.444-.7.396-.392.87-.86.556-1.8-.097-.291-.396-.568-.641-.756-.174-.133-.207-.396-.052-.551a.333.333 0 0 1 .42-.042l1.085.724c.11.072.255.058.348-.035.15-.15.415-.083.489.117.16.43.445 1.05.849 1.357L15 8A7 7 0 1 1 3.668 2.501Z"
      />
    </svg>
  </button>
  <div class="fixed" id="languages">
    <div>
      <button (click)="displayLangages()" class="btn btn-danger">x</button>
    </div>
    <div class="text-center" id="fr" (click)="changeLanguage('fr')">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 160 120"
        width="40"
        height="30"
      >
        <g id="flag">
          <rect width="53.4" height="120" x="0" fill="#0055A4" />
          <rect width="53.4" height="120" x="106.6" fill="#ED2939" />
          <rect width="53.4" height="120" x="53.3" fill="#FFF" />
        </g>
      </svg>
    </div>
    <div class="text-center" id="en" (click)="changeLanguage('en')">
      <img [src]="usaFlag" alt="EN" id="usaFlag" />
    </div>
  </div>
  <!--current text:text to type-->
  <div class="container" id="currentText">
    <span
      [ngClass]="{
      letter:!focusedLetter(i),
      focusedLetter:focusedLetter(i),

    }"
      *ngFor="let letter of getCurrentTextTab(); let i = index"
      [id]="i"
      >{{ letter }}</span
    >
  </div>
  <hr />
  <div class="container">
    <!--my text:text which has been typed-->
    <div class="container" id="myText" #myText></div>
    <!-- texterea:fild to type-->

    <form (ngSubmit)="result()">
      <textarea
        placeholder="Type here..."
        #textAreaElement
        [disabled]="currentText.length == textArea.length"
        (input)="check()"
        [(ngModel)]="textArea"
        name="textArea"
        id="textAreaElement"
        cols="70"
        rows="1"
      ></textarea>
    </form>
    <!--next text button-->

    <button
      title="next"
      id="next"
      [disabled]="noNextText()"
      (click)="next()"
      class="btn btn-success mybtn"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-arrow-right-square"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"
        />
      </svg>
    </button>
    <!--previous text button-->
    <button
      title="previous"
      [disabled]="noPreviousText()"
      (click)="previous()"
      class="btn btn-warning mybtn"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-arrow-left-square"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm11.5 5.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5z"
        />
      </svg>
    </button>
    <!--score button(activated at the end)-->
    <button
      title="score"
      [disabled]="!isEnableScore()"
      (click)="result()"
      class="btn btn-light mybtn"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-speedometer"
        viewBox="0 0 16 16"
      >
        <path
          d="M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2M3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8m9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5m.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z"
        />
        <path
          fill-rule="evenodd"
          d="M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z"
        />
      </svg>
    </button>
    <!--restart button-->
    <button title="restart" (click)="restart()" class="btn btn-primary mybtn">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="currentColor"
        class="bi bi-arrow-clockwise"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"
        />
        <path
          d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"
        />
      </svg>
    </button>
  </div>
  <!--result div-->
  <div id="result">
    <h3 class="text-center"><ins>Results:</ins></h3>
    <!--typeing speed (word per minute)-->
    <div class="text-center">Speed: {{ getSpeed() }} wpm</div>
    <!--number of errors-->
    <div class="text-center">Errors: {{ nbrErrors }} errors</div>
    <!--hide result div button-->
    <button (click)="result()" class="btn btn-warning">finish</button>
  </div>
</main>
